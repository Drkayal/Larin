# ๐๏ธ ุฏููู ูุทุงุจูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช - MongoDB ุฅูู PostgreSQL

## ๐ **ูุธุฑุฉ ุนุงูุฉ**

ูุฐุง ุงูููู ููุถุญ ุงููุทุงุจูุฉ ุงูุฏูููุฉ ุจูู ูุฌููุนุงุช MongoDB ุงูุญุงููุฉ ูุฌุฏุงูู PostgreSQL ุงูุฌุฏูุฏุฉุ ูุน ุดุฑุญ ููููุฉ ุชุญููู ุงูุจูุงูุงุช ูุงููุธุงุฆู.

---

## ๐ **ูุทุงุจูุฉ ุงููุฌููุนุงุช ูุงูุฌุฏุงูู**

### **1. ุงููุณุชุฎุฏููู (Users)**

| **MongoDB Collection** | **PostgreSQL Table** | **ุงููุตู** |
|----------------------|---------------------|----------|
| `tgusersdb` | `users` | ุจูุงูุงุช ุงููุณุชุฎุฏููู ุงูุฃุณุงุณูุฉ |

**ุชุญููู ุงูุจูุงูุงุช:**
```javascript
// MongoDB Document
{
  "user_id": 123456789
}

// PostgreSQL Row
{
  "user_id": 123456789,
  "first_name": null,
  "last_name": null,
  "username": null,
  "language_code": "ar",
  "is_bot": false,
  "is_premium": false,
  "joined_at": "2024-01-01 00:00:00",
  "last_activity": "2024-01-01 00:00:00",
  "is_active": true
}
```

### **2. ุงููุญุงุฏุซุงุช (Chats)**

| **MongoDB Collection** | **PostgreSQL Table** | **ุงููุตู** |
|----------------------|---------------------|----------|
| `chats` | `chats` | ุจูุงูุงุช ุงููุญุงุฏุซุงุช ูุงููุฌููุนุงุช |

**ุชุญููู ุงูุจูุงูุงุช:**
```javascript
// MongoDB Document
{
  "chat_id": -1001234567890
}

// PostgreSQL Row
{
  "chat_id": -1001234567890,
  "chat_type": "supergroup",
  "title": null,
  "username": null,
  "description": null,
  "member_count": 0,
  "joined_at": "2024-01-01 00:00:00",
  "last_activity": "2024-01-01 00:00:00",
  "is_active": true
}
```

### **3. ุฅุนุฏุงุฏุงุช ุงููุญุงุฏุซุงุช (Chat Settings)**

| **MongoDB Collections** | **PostgreSQL Table** | **ุงููุตู** |
|------------------------|---------------------|----------|
| `language` | `chat_settings.language` | ูุบุฉ ุงููุญุงุฏุซุฉ |
| `playmode` | `chat_settings.play_mode` | ูุถุน ุงูุชุดุบูู |
| `playtypedb` | `chat_settings.play_type` | ููุน ุงูุชุดุบูู |
| `cplaymode` | `chat_settings.channel_play_mode` | ูุถุน ุชุดุบูู ุงูููุงุฉ |
| `upcount` | `chat_settings.upvote_count` | ุนุฏุฏ ุงูุฃุตูุงุช |
| `autoend` | `chat_settings.auto_end` | ุงูุฅููุงุก ุงูุชููุงุฆู |
| `skipmode` | `chat_settings.skip_mode` | ูุถุน ุงูุชุฎุทู |
| `adminauth` | `chat_settings.non_admin_commands` | ุงูุฃูุงูุฑ ููุบูุฑ ูุดุฑููู |
| `dere` | `chat_settings.search_enabled` | ุชูุนูู ุงูุจุญุซ |
| `we` | `chat_settings.welcome_enabled` | ุชูุนูู ุงูุชุฑุญูุจ |
| `lf` | `chat_settings.logs_enabled` | ุชูุนูู ุงูุณุฌูุงุช |

**ุชุญููู ุงูุจูุงูุงุช:**
```javascript
// MongoDB Documents (ูุชุนุฏุฏุฉ)
language: { "chat_id": -100123, "lang": "ar" }
playmode: { "chat_id": -100123, "mode": "everyone" }
upcount: { "chat_id": -100123, "mode": 5 }

// PostgreSQL Row (ููุญุฏุฉ)
{
  "chat_id": -1001234567890,
  "language": "ar",
  "play_mode": "everyone",
  "play_type": "music",
  "channel_play_mode": null,
  "upvote_count": 5,
  "auto_end": false,
  "skip_mode": true,
  "non_admin_commands": false,
  "search_enabled": true,
  "welcome_enabled": false,
  "logs_enabled": false,
  "created_at": "2024-01-01 00:00:00",
  "updated_at": "2024-01-01 00:00:00"
}
```

### **4. ุงููุณุชุฎุฏููู ุงููุตุฑุญ ููู (Authorized Users)**

| **MongoDB Collection** | **PostgreSQL Table** | **ุงููุตู** |
|----------------------|---------------------|----------|
| `authuser` | `authorized_users` | ุงููุณุชุฎุฏููู ุงููุตุฑุญ ููู ูู ูู ูุญุงุฏุซุฉ |

**ุชุญููู ุงูุจูุงูุงุช:**
```javascript
// MongoDB Document
{
  "chat_id": -1001234567890,
  "notes": {
    "user_123": {
      "user_id": 123456789,
      "user_name": "ุงุญูุฏ",
      "auth": 1234567890
    }
  }
}

// PostgreSQL Rows (ุณุทุฑ ููู ูุณุชุฎุฏู)
{
  "chat_id": -1001234567890,
  "user_id": 123456789,
  "user_name": "ุงุญูุฏ",
  "authorized_by": 1234567890,
  "authorized_at": "2024-01-01 00:00:00",
  "notes": {}
}
```

### **5. ุงููุทูุฑูู (Sudo Users)**

| **MongoDB Collection** | **PostgreSQL Table** | **ุงููุตู** |
|----------------------|---------------------|----------|
| `sudoers` | `sudo_users` | ูุงุฆูุฉ ุงููุทูุฑูู |

**ุชุญููู ุงูุจูุงูุงุช:**
```javascript
// MongoDB Document
{
  "sudo": "sudo",
  "sudoers": [123456789, 987654321]
}

// PostgreSQL Rows (ุณุทุฑ ููู ูุทูุฑ)
[
  {
    "user_id": 123456789,
    "added_by": null,
    "added_at": "2024-01-01 00:00:00",
    "is_active": true
  },
  {
    "user_id": 987654321,
    "added_by": null,
    "added_at": "2024-01-01 00:00:00",
    "is_active": true
  }
]
```

### **6. ุงููุณุชุฎุฏููู ุงููุญุธูุฑูู (Banned Users)**

| **MongoDB Collection** | **PostgreSQL Table** | **ุงููุตู** |
|----------------------|---------------------|----------|
| `blockedusers` | `banned_users` | ุงููุณุชุฎุฏููู ุงููุญุธูุฑูู ูุญููุงู |
| `gban` | `gbanned_users` | ุงููุณุชุฎุฏููู ุงููุญุธูุฑูู ุนุงููุงู |

**ุชุญููู ุงูุจูุงูุงุช:**
```javascript
// MongoDB Document
{
  "user_id": 123456789
}

// PostgreSQL Row
{
  "user_id": 123456789,
  "banned_by": null,
  "banned_at": "2024-01-01 00:00:00",
  "reason": null,
  "is_active": true
}
```

### **7. ุงููุญุงุฏุซุงุช ุงููุญุธูุฑุฉ (Blacklisted Chats)**

| **MongoDB Collection** | **PostgreSQL Table** | **ุงููุตู** |
|----------------------|---------------------|----------|
| `blacklistChat` | `blacklisted_chats` | ุงููุญุงุฏุซุงุช ุงููุญุธูุฑุฉ |

### **8. ุงููุญุงุฏุซุงุช ุงููุดุทุฉ (Active Chats)**

| **Memory Arrays** | **PostgreSQL Table** | **ุงููุตู** |
|------------------|---------------------|----------|
| `active[]` | `active_chats` | ุงููุญุงุฏุซุงุช ุงููุดุทุฉ ุญุงููุงู |
| `activevideo[]` | `active_chats.is_video` | ุงููุญุงุฏุซุงุช ุงููุฑุฆูุฉ ุงููุดุทุฉ |

### **9. ููุงุฆู ุงูุงูุชุธุงุฑ (Play Queue)**

| **Memory Object** | **PostgreSQL Table** | **ุงููุตู** |
|------------------|---------------------|----------|
| `db[chat_id][]` | `play_queue` | ููุงุฆู ุงูุชุธุงุฑ ุงูุฃุบุงูู |

### **10. ุงููุณุงุนุฏูู (Assistants)**

| **MongoDB Collection** | **PostgreSQL Table** | **ุงููุตู** |
|----------------------|---------------------|----------|
| `assistants` | `assistants` | ุชุฎุตูุต ุงููุณุงุนุฏูู ูููุญุงุฏุซุงุช |

### **11. ุฅุนุฏุงุฏุงุช ุงููุธุงู (System Settings)**

| **MongoDB Collection** | **PostgreSQL Table** | **ุงููุตู** |
|----------------------|---------------------|----------|
| `onoffper` | `system_settings` | ุฅุนุฏุงุฏุงุช ุงููุธุงู ุงูุนุงูุฉ |
| `dere1` | `system_settings` | ุงูุจุญุซ ุงูุนุงู |

---

## ๐ **ูุทุงุจูุฉ ุงููุธุงุฆู**

### **ูุธุงุฆู ุงููุณุชุฎุฏููู:**

| **MongoDB Function** | **PostgreSQL Function** | **ุงููุตู** |
|---------------------|------------------------|----------|
| `add_served_user()` | `add_served_user()` | ุฅุถุงูุฉ ูุณุชุฎุฏู ุฌุฏูุฏ |
| `get_served_users()` | `get_served_users()` | ุฌูุจ ุฌููุน ุงููุณุชุฎุฏููู |
| `is_served_user()` | `is_served_user()` | ูุญุต ูุฌูุฏ ุงููุณุชุฎุฏู |

### **ูุธุงุฆู ุงููุญุงุฏุซุงุช:**

| **MongoDB Function** | **PostgreSQL Function** | **ุงููุตู** |
|---------------------|------------------------|----------|
| `add_served_chat()` | `add_served_chat()` | ุฅุถุงูุฉ ูุญุงุฏุซุฉ ุฌุฏูุฏุฉ |
| `get_served_chats()` | `get_served_chats()` | ุฌูุจ ุฌููุน ุงููุญุงุฏุซุงุช |
| `is_served_chat()` | `is_served_chat()` | ูุญุต ูุฌูุฏ ุงููุญุงุฏุซุฉ |

### **ูุธุงุฆู ุงูุฅุนุฏุงุฏุงุช:**

| **MongoDB Function** | **PostgreSQL Function** | **ุงููุตู** |
|---------------------|------------------------|----------|
| `set_lang()` | `set_chat_language()` | ุชุนููู ูุบุฉ ุงููุญุงุฏุซุฉ |
| `get_lang()` | `get_chat_language()` | ุฌูุจ ูุบุฉ ุงููุญุงุฏุซุฉ |
| `set_playmode()` | `set_chat_play_mode()` | ุชุนููู ูุถุน ุงูุชุดุบูู |
| `get_playmode()` | `get_chat_play_mode()` | ุฌูุจ ูุถุน ุงูุชุดุบูู |

### **ูุธุงุฆู ุงูุตูุงุญูุงุช:**

| **MongoDB Function** | **PostgreSQL Function** | **ุงููุตู** |
|---------------------|------------------------|----------|
| `save_authuser()` | `add_authorized_user()` | ุฅุถุงูุฉ ูุณุชุฎุฏู ูุตุฑุญ |
| `delete_authuser()` | `remove_authorized_user()` | ุญุฐู ูุณุชุฎุฏู ูุตุฑุญ |
| `get_authuser()` | `get_authorized_user()` | ุฌูุจ ุจูุงูุงุช ูุณุชุฎุฏู ูุตุฑุญ |

---

## ๐ **ูุฒุงูุง ุงูุชุญููู ุฅูู PostgreSQL**

### **1. ุงูุฃุฏุงุก:**
- ููุฑุณุฉ ุฃูุถู ูุฃุณุฑุน
- ุงุณุชุนูุงูุงุช ูุนูุฏุฉ ูุญุณูุฉ
- ุฐุงูุฑุฉ ุชุฎุฒูู ูุคูุช ูุชูุฏูุฉ

### **2. ุงูููุซูููุฉ:**
- ACID compliance ูุงููุฉ
- ูุณุฎ ุงุญุชูุงุทู ุฃูุถู
- ุงุณุชุฑุฏุงุฏ ุฃุณุฑุน

### **3. ุงููุฑููุฉ:**
- ุนูุงูุงุช ูุนูุฏุฉ ุจูู ุงูุฌุฏุงูู
- ูููุฏ ุงูุจูุงูุงุช ุงููุชูุฏูุฉ
- ูุธุงุฆู ูุฎุตุตุฉ ููุดุบูุงุช

### **4. ุงููุงุจููุฉ ููุชูุณุน:**
- ุฏุนู ุฃูุถู ููุญูููุฉ ุงูุนุงููุฉ
- ุชุญุณูู ุงุณุชููุงู ุงูุฐุงูุฑุฉ
- ุฅุฏุงุฑุฉ ุงูุงุชุตุงูุงุช ุงููุชูุฏูุฉ

---

## ๐ **ููุงุญุธุงุช ูููุฉ ููุชุญููู**

### **1. ุงูุจูุงูุงุช ุงูููููุฏุฉ:**
- ุณูุชู ุฅุถุงูุฉ ุญููู ุฌุฏูุฏุฉ ุจููู ุงูุชุฑุงุถูุฉ
- ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ ุณุชุจูู ุณูููุฉ
- ูุนูููุงุช ุฅุถุงููุฉ ุณุชูุฌูุน ุชุฏุฑูุฌูุงู

### **2. ุงูุชูุงูู:**
- ุฌููุน ุงููุธุงุฆู ุงูุญุงููุฉ ุณุชุนูู ุจููุณ ุงูุทุฑููุฉ
- ุฃุณูุงุก ุงููุธุงุฆู ูุฏ ุชุชุบูุฑ ููููุงู
- ุงููุนุงููุงุช ูุงููุชุงุฆุฌ ุณุชุจูู ูุชุทุงุจูุฉ

### **3. ุงูุฃุฏุงุก:**
- ุชุญุณู ููุญูุธ ูู ุณุฑุนุฉ ุงูุงุณุชุนูุงูุงุช
- ุงุณุชููุงู ุฐุงูุฑุฉ ุฃูู
- ุงุณุชุฌุงุจุฉ ุฃุณุฑุน ููุฃูุงูุฑ

---

## โ **ุญุงูุฉ ุงูุชุญููู**

- [x] **ุชุญููู ุงูุจููุฉ ุงูุญุงููุฉ** - ููุชูู
- [x] **ุชุตููู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ** - ููุชูู  
- [x] **ุฅุนุฏุงุฏ ูุชุทูุจุงุช PostgreSQL** - ููุชูู
- [ ] **ุฅูุดุงุก ุทุจูุฉ ุงูุงุชุตุงู** - ููุฏ ุงูุชูููุฐ
- [ ] **ุชุญููู ุงููุธุงุฆู** - ููุฏ ุงูุงูุชุธุงุฑ
- [ ] **ุชุญุฏูุซ ุงููููุงุช** - ููุฏ ุงูุงูุชุธุงุฑ
- [ ] **ุงูุงุฎุชุจุงุฑ ูุงูุชุญูู** - ููุฏ ุงูุงูุชุธุงุฑ

---

**๐ ูููุณุงุนุฏุฉ ุฃู ุงูุงุณุชูุณุงุฑุงุชุ ูุฑุฌู ูุฑุงุฌุนุฉ ุงูุชูุซูู ุงูููู ุฃู ุงูุงุชุตุงู ุจูุฑูู ุงูุชุทููุฑ.**